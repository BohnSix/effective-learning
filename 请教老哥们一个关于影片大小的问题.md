# 题

本人有收藏癖，喜欢收藏高清无水印的影片，一些老片能拿到原版WMV那是圈内前辈们的恩赐。现在的片子普遍都是MP4格式，我听说是同样格式越大越好，所以一般收藏最大的高清无水印版。但是最近发现好多片子是在时长、清晰度相同的情况下大小只差了小几百MB，除了此一处大小看不出任何差别，有些困惑。

以明里つむぎ小姐姐的新作IPX-530为例：

此为某堂的高清原版，大小5.03G
`magnet:?xt=urn:btih:6AE49F675AFD1CAB608A6EB33135455611B903CF&dn=ipx-530`

此为本站另一个链接，大小5.19G
`magnet:?xt=urn:btih:3CB8E0F35963F1EA7F9EB9BF0F205F7A46B02392&dn=IPX-530.mp4`


二者都是高清无水印版本，时长也相同，没有添加任何广告片头片尾，除了这100多MB的差别兄弟我看不出还有什么不同。

按照我的习惯是选择最大的版本，但据说某堂现在发的都是DMM高清原版，强迫症的我有些纠结。

有懂这方面的老哥可以指教一二吗？十分感谢。明里小姐姐新作封面镇楼。


##  解答
选某堂的那个5.03G的资源。

官网上标注的码率是 6000kbps 所以码率只能是小于或等于6000kbps 同样1080p分辨率下比特率超过6000k都是多余的冗余数据，画质不会有任何区别。而小于6000k则会涉及到画质压缩的问题。

老版WMV片源 3个数据是固定的。数据速率 5744kbps 总比特率 6000kbps 音频比特率 256kbps

新版MP4片源 数据速率 小于6000kbps 总比特率 小于6000kbps  双小于 但是接近而不超6000。 音频比特率 256kbps


5.18G的片源 总比特率 超6000了 音频比特率 192kbps  点击进度条快进会有极微卡顿 类似原始TS文件


mp4 属于流媒体  wmv是微软的编码格式，十分老旧了，目前的主流格式是h264和继任者h265，在码率和画质取得了很好的平衡。 但还需要补充一点，并不是wmv就是好的，它播放时会出现卡顿的，这也就是现在MP4比较流行的原因

一般情况下WMV画质要好些，WMV主要是拖动进度条卡顿，mp4不流畅就是动态帧率，大量重复帧或少帧，你可以暂停键盘F键逐帧预览会发现重复帧，2帧画面之间跨度过大就是少帧


---

5.03的好，
你可以播发器双开暂停到同一帧快速切换对比，如果用AVS脚本打开，那更能看出差别

你说的这些视频都是被压制过的，不是原盘

WMV的常见问题色彩不正常，原盘为29.97帧，大多数被压成30帧

MP4视频经常有的问题：

1.视频有重复帧或少帧

2.动态帧率（严重的表现为视频到某固定地方卡顿）

3.音频有间隔，转码或压制处理不好会画音不同步

官方原盘基本是不会有这些问题的

有点看不懂，为什么有卡顿，还要选择mp4的格式，我之前遇到8G的MP4格式和7G的WMV格式，犹豫中选择了WMV，考虑是原版，不太懂为什么会超过1G

---

我是有DVD或蓝光镜像文件我就下原盘（不翻墙也不会到官网花钱下载），没有就多下版本来对比，WMV的话我都要用x246编码器压制，WMV播发器解码不顺畅，而且文件大

动态帧率是非标准压制软件或视频录制造成的，就是帧率不是固定的，比如中国视频是25帧每秒，日版是29.97，欧美电影是23.976，帧率是固定的动态帧率：比如这个视频的时间码（下图）

帧率不固定，特别是第995这帧，是以每秒一帧来播放的（就是那一秒钟都是这帧），你就会觉得画面卡顿了一下，

---

h265或者x265编码对于17年以前的cpu或者显卡可能不会有硬件加速所以系统资源占用会比较高（软解模式）这点稍微要注意一下

---


## 压缩
我都是下载下来自己再用h.265编码再压一遍减少体积
推荐用MediaCoder这个软件压缩，正版的免费功能就够用了

---

x265压缩率很高，但是高码率下表现还是不如x264，主流的还是x264编码

我选WMV然后压制h.264再封装MKV，文件又小又好

---

分享下自己的经验：
以前普清的现在都尽量下超清尽量无水的，也就是车神提到的wmv、6000K、类似某堂的那种几秒的微水印的。下好以后以前还把有字幕的剪辑时直接嵌入进去，现在都放外面外挂字幕了，毕竟除了文件夹里看着不舒服以外，添加删减都挺方便，播放器里随便修改字体和大小。
下面说压缩，因为现阶段PC只有1T不到，以及2T的移动硬盘。经果自己大量剪辑经验来看，有码的都是用格式工厂从超清剪辑为分辨率1280x720,数据速率1600kbps左右最适合，不过我是压成AVC(H264)的，没试过H265。無码的AV 以及 P站一些欧美4K，一律按优品2800kbps，精品3500kbps压缩，分辨率还是1280x720。因为1920x1080适合6000+kbps的码率，否则低码率用大分辨率会让画面出现很多色素不均匀的感觉，没有1280x720的画面圆润。有些原本码率就低，比如少于1000kbps的好几年前老AV，经过个人一些经验教训，剪辑时想保持原本清晰度，就不要改大分辨率。
然后剪辑好的收藏，超清源文件上传到OneOneFive里存好。

---

我是做后期的，在这里普及一下格式、编码与封装。

WMV和MP4都只是格式，可以理解成壳，主要的是壳里面的编码，而壳把编码包起来就是封装。一个完整的视频文件里应该有一个视频编码文件和一个音频编码文件，部分格式是可以封装多种编码的，例如啥都塞的MKV格式。


WMV常见的视频编码是VC-1，MP4常见的视频编码是H.264。VC-1的标准化时间比H.264要晚，H.264于1999年完成第一版，2003年正式发布，VC-1是2003年完成第一版，2006年才正式发布。VC-1整合了MPEG和H.264的优点，从压缩比上来看，H.264的压缩比率更高一些，也就是同样的视频通过H.264编码算法压出来的视频容量要比VC-1的更小，VC-1在压缩时间上，明显比H.264短了许多，复杂度约只有H.264的50%，VC-1 格式的视频在解码计算方面则更小一些。由于H.264使用较小尺寸的转换公式与无法调整的量化矩阵，造成不能完整保留影像的高频细节。所以相比于H.264，VC-1更适合原盘的制作。

AVC其实就是H.264标准，AVC的规格分为三等，从低到高分别为：Baseline、Main、High。
```
Baseline（最低Profile）级别支持I/P 帧，只支持无交错（Progressive）和CAVLC，一般用于低阶或需要额外容错的应用，比如视频通话、手机视频等；
Main（主要Profile）级别提供I/P/B 帧，支持无交错（Progressive）和交错（Interlaced），同样提供对于CAVLC 和CABAC 的支持，用于主流消费类电子产品规格如低解码（相对而言）的mp4、便携的视频播放器、PSP和Ipod等；
High（高端Profile，也叫FRExt）级别在Main的基础上增加了8x8 内部预测、自定义量化、无损视频编码和更多的YUV 格式（如4：4：4）用于广播及视频碟片存储（蓝光影片），高清电视的应用。 AVC 的规格主要是针对兼容性的，不同的规格能在相同级别上的平台应用。
```
这里不同的编码规格会影响到编码之后出现的细微差别。

---


最主要就是下半部分，左边“视频”这一栏，我用的是平均码率768，这个是决定清晰度最关键的。越大越清晰，但是体积也越大。768是我觉得比较均衡的一个码率了。

一般3小时以内的片子，可以压缩到600-900m，所以下片子的时候优先选择高清一点的片子。格式选H.265。

编码器那里，如果用N卡并且支持nvenc的话就勾选GPU，压缩会快很多。（这就是我买N卡的原因），没有的话就只能选自动了，也就是CPU编码，速度会慢点。

还有个时间一栏，那里可以选择起始结束时间，对于切掉片头片尾广告非常实用。

推荐去B站搜一下“【科普】“视频”是怎么来的？H.264、码率这些词又是什么意思？”这个视频，里面讲得很清楚。

其他的就是针对自己的电脑，多次调教，找出压缩时间最快、体积最小但是又是自己最能接受的清晰度。

---

各位盆友，花了点时间测试了几次，再来此分享下压缩经验。

真是压缩、调整分辨率、横竖屏转换、去除黑边这些简单的，我都用格式工厂弄。
格式工厂 输出格式为 AVC(H264) 的话默认是H264(High@3.1L)，输出格式为 HEVC(H265) 的话默认是H265(Main@3.1LMain)
由于本人笔记本CPU是 i5-8300H 显卡 GTX1060，所以通常大压小 压缩时分辨率会选择1280x720
(测试無码源文件.wmv 时长01:02:17 大小1.82G 数据速率7000kbps 总比特率7200kbps 帧速率29.97z/s)
压缩格式AVC(H264) 比特率2588kbps 分辨率1280x720；耗时不到40分钟，输出大小1.15 GB (1,239,446,694 字节)
压缩成HEVC(H265)  比特率2588kbps 分辨率1280x720；耗时1小时35分钟，输出大小1.15 GB (1,241,338,584 字节)
输出后在xfplay播放时 H264画面明亮 色彩饱和度都很不错，方向键快进画面转变较流畅，鼠标拉进度条画面转变流畅。
H265画面比较暗 比H264暗的非常明显，方向键快进快退画面转变很卡顿，鼠标拉进度条画面转变比较卡顿。
而且清晰度上面，体积差不多的情况下，H265比H264只是稍微稍微清晰一丢丢，可能没有。
综上所述，本人暂时还是继续压成H264。
